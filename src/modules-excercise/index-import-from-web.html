<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Motion One example</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <style>
      body {
        background: black;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 90vh;
      }

      #box {
        width: 100px;
        height: 100px;
        border-radius: 10px;
        background-color: pink;
      }
    </style>
    <div id="box"></div>
  </body>
  <!-- You will probably pull this javascript out into its own file -->
  <script type="module">
    import { animate } from 'https://cdn.skypack.dev/motion'

    animate('#box', { x: 100, rotate: 45 }, { duration: 0.5 })
  </script>
  <div id="box">
    <button id="startButton">Start</button>
  </div>
  <script type="module">
    import * as Tone from 'https://cdn.skypack.dev/tone'

    //create a synth and connect it to the main output (your speakers)
    const synth = new Tone.Synth().toDestination()

    //play a middle 'C' for the duration of an 8th note
    synth.triggerAttackRelease('D4', '8n')

    const button = document.querySelector('#startButton')
    button.addEventListener('click', () => {
      Tone.start()

      const now = Tone.now() + 1
      synth.triggerAttackRelease('C4', '1n', now)
      synth.triggerAttackRelease('E4', '1n', now + 0.5)
      synth.triggerAttackRelease('G4', '1n', now + 1)

      const osc = new Tone.Oscillator().toDestination()
      // start at "C4"
      osc.frequency.value = 'C4'
      // ramp to "C2" over 2 seconds
      osc.frequency.rampTo('C2', 2)
      // start the oscillator for 2 seconds
      osc.start().stop('+3')

      // create two monophonic synths
      const synthA = new Tone.FMSynth().toDestination()
      const synthB = new Tone.AMSynth().toDestination()
      //play a note every quarter-note
      const loopA = new Tone.Loop((time) => {
        synthA.triggerAttackRelease('C2', '8n', time)
      }, '4n').start(0)
      //play another note every off quarter-note, by starting it "8n"
      const loopB = new Tone.Loop((time) => {
        synthB.triggerAttackRelease('C4', '8n', time)
      }, '4n').start('8n')
      // all loops start when the Transport is started
      Tone.getTransport().start()
      // ramp up to 800 bpm over 10 seconds
      Tone.getTransport().bpm.rampTo(800, 10)

      const polySynth = new Tone.PolySynth(Tone.Synth).toDestination()
      const ted = Tone.ted()
      polySynth.triggerAttack('D4', ted)
      polySynth.triggerAttack('F4', ted + 0.5)
      polySynth.triggerAttack('A4', ted + 1)
      polySynth.triggerAttack('C5', ted + 1.5)
      polySynth.triggerAttack('E5', ted + 2)
      polySynth.triggerRelease(['D4', 'F4', 'A4', 'C5', 'E5'], ted + 4)
    })
  </script>
</html>
